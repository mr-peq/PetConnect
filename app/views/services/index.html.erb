<div class="container no-horizontal-flow" data-controller="filtered-queries">
  <div class="services-queries">
    <div class="services-query-form" >
      <%= form_with url: services_path, method: :get, data: { filtered_queries_target: "query", action: "submit->filtered-queries#filter" }, class: "d-flex query-form" do %>
          <%= text_field_tag :query,
                params[:query],
                class: "form-control",
                placeholder: "Search a type of service, a name, an address... ",
                style: "background-color: white;"
            %>
          <p class="text-secondary mb-0">Price range</p>
          <div id="slider" data-controller="slider" style="align-self: center; width: 95%;"></div>
          <%= submit_tag "Apply filters", name: "", class: "btn btn-primary", style: "width: 200px;" %>
        <% end %>
    </div>
    <div class="d-none" id="maxPrice"><%= @max_price %></div>
    <hr>
    <div class="filter-buttons-container">
      <div class="filter-button">
        <button class="filter-dog-button" data-action="click->filtered-queries#highlight" data-filtered-queries-dog-value="" data-filtered-queries-target="Dog">
          <%= image_tag "icons/dog.svg", class: "icon" %>
          <p>dog</p>
        </button>
      </div>
      <div class="filter-button">
        <button class="filter-cat-button" data-action="click->filtered-queries#highlight" data-filtered-queries-cat-value="" data-filtered-queries-target="Cat">
          <%= image_tag "icons/cat.svg", class: "icon" %>
          <p>cat</p>
        </button>
      </div>
      <div class="filter-button">
        <button class="filter-kangaroo-button" data-action="click->filtered-queries#highlight" data-filtered-queries-kangaroo-value="" data-filtered-queries-target="Kangaroo">
          <%= image_tag "icons/kangaroo.svg", class: "icon" %>
          <p>kangaroo</p>
        </button>
      </div>
      <div class="filter-button">
        <button class="filter-rabbit-button" data-action="click->filtered-queries#highlight" data-filtered-queries-rabbit-value="" data-filtered-queries-target="Rabbit">
          <%= image_tag "icons/rabbit.svg", class: "icon" %>
          <p>rabbit</p>
        </button>
      </div>
      <div class="filter-button">
        <button class="filter-ferret-button" data-action="click->filtered-queries#highlight" data-filtered-queries-ferret-value="" data-filtered-queries-target="Ferret">
          <%= image_tag "icons/ferret.svg", class: "icon" %>
          <p>ferret</p>
        </button>
      </div>
      <div class="filter-button">
        <button class="filter-snake-button" data-action="click->filtered-queries#highlight" data-filtered-queries-snake-value="" data-filtered-queries-target="Snake">
          <%= image_tag "icons/snake.svg", class: "icon" %>
          <p>snake</p>
        </button>
      </div>
      <div class="filter-button">
        <button class="filter-guinea-pig-button" data-action="click->filtered-queries#highlight" data-filtered-queries-guinea-pig-value="" data-filtered-queries-target="GuineaPig">
          <%= image_tag "icons/guinea-pig.svg", class: "icon" %>
          <p>guinea pig</p>
        </button>
      </div>
    </div>
    <hr>
  </div>
  <p class="text-secondary"><%= @services.count %> Services found.</p>
  <div class="services-content-container">
    <%= render "services", services: @services, markers: @markers %>
  </div>
</div>
